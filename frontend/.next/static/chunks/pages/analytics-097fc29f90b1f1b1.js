(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{639:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return s(7777)}])},7777:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893),r=s(7294),l=s(9008),a=s.n(l),i=s(1664),o=s.n(i),c=s(1163);function d(){let e=(0,c.useRouter)(),[t,s]=(0,r.useState)("");async function l(t){t.preventDefault();try{var n,r;let l;let{origin:a,pathname:i}=new URL(t.target.url.value);if(a!==window.location.origin)return s("This is not a valid short URL. Please enter an URL that starts with: ".concat(window.location.origin));console.log(i);let o=await fetch("/api/url/".concat(encodeURIComponent(i.slice(1))));try{let c=null===(n=o.headers.get("content-type"))||void 0===n?void 0:n.includes("application/json");l=c?await o.json():null}catch(d){console.error(d)}if(!o.ok){let u;throw u=404===o.status?"This URL doesnâ€™t exist. Please make sure you typed the correct URL, which is case sensitive.":(null==l?void 0:null===(r=l.error)||void 0===r?void 0:r.message)||"".concat(o.status," - ").concat(o.statusText),Error(u)}e.push("/analytics/".concat(encodeURIComponent(l.id)))}catch(m){s(m.message)}}return(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"View analytics | URL Shortener"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center mx-5 mt-28 w-96",children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-4xl",children:"View analytics"}),(0,n.jsxs)("form",{className:"relative self-stretch mt-8 sm:mt-12",onSubmit:l,children:[(0,n.jsx)("input",{className:"w-full h-12 pl-5 pr-[52px] sm:pr-[100px] rounded-full shadow-sm placeholder:text-gray-400 sm:text-lg",type:"url",placeholder:"Paste short URL",name:"url",id:"url",required:!0}),(0,n.jsxs)("button",{className:"p-[10px] sm:px-3 sm:py-2 absolute top-[2px] right-[2px] hover:bg-emerald-500 duration-150 rounded-full text-white bg-emerald-400",type:"submit",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 sm:hidden",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),(0,n.jsx)("span",{className:"hidden text-lg font-medium sm:block",children:"Submit"})]})]}),t&&(0,n.jsx)("div",{className:"self-stretch px-3 py-2 mt-2 text-xs text-red-600 bg-red-100 rounded-md sm:mt-3 sm:text-sm",children:t}),(0,n.jsx)("span",{className:"mt-3 text-sm italic uppercase sm:mt-6 sm:text-base",children:"or"}),(0,n.jsx)(o(),{className:"mt-3 text-sm font-medium duration-150 sm:text-base hover:text-emerald-500 sm:mt-6 text-emerald-400",href:"/",children:"Create a short URL"})]})]})}},1163:function(e,t,s){e.exports=s(880)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=639)}),_N_E=e.O()}]);