(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{3437:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/[id]",function(){return s(2e3)}])},2e3:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893),l=s(7294),a=s(9008),r=s.n(a),i=s(1664),o=s.n(i),c=s(1163);function d(){let e=(0,c.useRouter)(),[t,s]=(0,l.useState)(!0),[a,i]=(0,l.useState)(null);return((0,l.useEffect)(()=>{e.isReady&&(async()=>{try{var t,n;let l;let a=await fetch("/api/url/".concat(encodeURIComponent(e.query.id)));try{let r=null===(t=a.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json");l=r?await a.json():null}catch(o){console.error(o)}if(!a.ok){if(404===a.status)return e.push("/not-found",window.location);let c=(null==l?void 0:null===(n=l.error)||void 0===n?void 0:n.message)||"".concat(a.status," - ").concat(a.statusText);throw Error(c)}i(l),s(!1)}catch(d){return console.log("error",d),e.push("/internal-error",window.location)}})()},[e]),t)?null:(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:"Analytics | URL Shortener"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center mx-5 mt-10 sm:mt-28 w-80",children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-4xl",children:"Analytics"}),(0,n.jsxs)("div",{className:"flex flex-col items-center self-stretch p-5 mt-8 bg-white rounded-2xl",children:[(0,n.jsx)("span",{className:"font-medium text-gray-400",children:"Total Clicks"}),(0,n.jsx)("span",{className:"text-5xl",children:a.visitCount})]}),(0,n.jsx)("span",{className:"mt-5 font-medium sm:text-xl",children:"Your URL"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("a",{className:"underline break-all sm:text-lg",href:a.originalURL,target:"_blank",rel:"noreferrer",children:a.originalURL}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"flex-none w-4 h-4 sm:w-5 sm:h-5",children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 00-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0112.75 17h-8.5A2.25 2.25 0 012 14.75v-8.5A2.25 2.25 0 014.25 4h5a.75.75 0 010 1.5h-5z",clipRule:"evenodd"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 001.06.053L16.5 4.44v2.81a.75.75 0 001.5 0v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 000 1.5h2.553l-9.056 8.194a.75.75 0 00-.053 1.06z",clipRule:"evenodd"})]})]}),(0,n.jsx)("span",{className:"mt-5 font-medium sm:text-xl",children:"Short URL"}),(0,n.jsx)("span",{className:"sm:text-lg",children:"".concat(window.location.origin,"/").concat(encodeURIComponent(a.id))}),(0,n.jsx)(o(),{className:"mt-20 text-sm font-medium duration-150 sm:text-base sm:mt-28 text-emerald-400 hover:text-emerald-500",href:"/analytics",children:"View analytics for another short URL"}),(0,n.jsx)("span",{className:"mt-1 text-sm italic sm:text-base",children:"or"}),(0,n.jsx)(o(),{className:"mt-1 text-sm font-medium duration-150 sm:text-base text-emerald-400 hover:text-emerald-500",href:"/",children:"Create a short URL"})]})]})}},1163:function(e,t,s){e.exports=s(880)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=3437)}),_N_E=e.O()}]);